<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Datos Personales</title>
</head>
<body>
    <form action="" method = "get" >
            <p> NOMBRE:
            <input type = "text" minlength="2" maxlength="20" name="nombre" required>
            </p>
            <p>APELLIDO:
            <input type = "text" minlength="2" maxlength="25" name="apellido" required>
            </p> 
            <p>EDAD:
                <input type="number" min="1" step="1" minlength="18" max="120" name="edad" required>
            </p> 
            <p>DNI:  
                <input type="text" maxlength="20" name="dni" required>
            </p>
            
            <p>CORREO ELECTRONICO:
                <input type="email" name="email" required>
            </p> 
            <br>
            <input type = "submit" value = "Enviar"> 
            

    <table> 
        <caption>
            Tabla de DATOS
       </caption>
       <tehead>
            <tr>
                <th>NOMBRE</th>
                <th>APELLIDO</th>
                <th>EDAD</th>
                <th>DNI</th>
                <th>CORREO ELECTRONICO</th>
            </tr>
            <tr>
                <td id="Nombre"></td>
                <td id="Apellido"></td>
                <td id="Edad"></td>
                <td id="Dni"></td>
                <td id="Email"></td>
            </tr>

        </tehead>
       </table> 

       <script>
        //tomamos de la url los parametros pasados desde el formulario
        let parametros = new URLSearchParams(window.location.search);
    
        //declaro variable por cada uno de los parametros que recibo del formulario
        let nombre = parametros.get('nombre');
        let apellido = parametros.get('apellido');
        let edad = parametros.get('edad');
        let dni = parametros.get('dni');
        let email = parametros.get('email');

    
        //Acceder a elementos del documento
        document.getElementById('Nombre').innerHTML = nombre;
        document.getElementById('Apellido').innerHTML = apellido;
        document.getElementById('Edad').innerHTML = edad;
        document.getElementById('Dni').innerHTML = dni;
        document.getElementById('Email').innerHTML = email;
        //document.getElementById('total').innerHTML = "$ " + precio * cantidad;

     /*   let fila = ("<tr>"+
                "<td>" +nombre +"</td>"+
                "<td>"+"aqui"+"</td>"+
                "<td>"+"aqui"+"</td>"+
                "<td>"+"aqui"+"</td>"+
                "<td>"+"aqui"+"</td>" +
                "</tr>");
            document.write(fila);
            document.write("<br>"); */
        
            function agregarFila(nombre, apellido, edad, dni, email) {

// añadimos el alumno a la tabla crando el tr, td's y el botón para eliminarlo

const tr=document.createElement("tr");



const tdNombre=document.createElement("td");

txt=document.createTextNode(nombre);

tdNombre.appendChild(txt);

tdNombre.className="nombre";


const tdApellido=document.createElement("td");

txt=document.createTextNode(apellido);

tdApellido.appendChild(txt);

tdApellido.className="apellido";



const tdEdad=document.createElement("td");

txt=document.createTextNode(edad);

tdEdad.appendChild(txt);

tdEdad.className="edad";


const tdDni=document.createElement("td");

txt=document.createTextNode(dni);

tdDni.appendChild(txt);

tdDni.className="dni";


const tdEmail=document.createElement("td");

txt=document.createTextNode(email);

tdEmail.appendChild(txt);

tdEmail.className="email";



const tdRemove=document.createElement("td");

const buttonRemove=document.createElement("img");

//buttonRemove.src="garbage.png";

buttonRemove.onclick=eliminarFila;

tdRemove.appendChild(buttonRemove);



tr.appendChild(tdNombre);
tr.appendChild(tdApellido);
tr.appendChild(tdEdad);
tr.appendChild(tdDni);
tr.appendChild(tdEmail);
tr.appendChild(tdRemove);



const tbody=document.getElementById("listado").querySelector("tbody").appendChild(tr);



// eliminamos la clase que tiene oculta la tabla cando no hay ningun alumno

document.getElementById("listado").classList.remove("hide");

}





//Funcion para eliminar el usuario de la tabla y llamar a la funcion

// para eliminar al usuario del input oculto



function eliminarFila(e) {

const tr=this.closest("tr")

const nombre=tr.querySelector(".nombre").innerText;

const edad=tr.querySelector(".right").innerText;



eliminarInput(nombre, edad);

tr.remove();



// Si no hay ningun elemento en la lista, escondemos la tabla

if (document.getElementById("listado").querySelector("tbody").querySelectorAll("tr").length==0) {

    document.getElementById("listado").classList.add("hide");

}

}

        
    </script>
    
   <!-- <script>
        document.querySelector("input[type=submit]").addEventListener("click",function(e){

        // cancelamos el evento

        e.preventDefault();



        const NOMBRE=document.querySelector("input[name=nombre]");
        const APELLIDO=document.querySelector("input[name=apellido]");
        const EDAD=document.querySelector("input[name=edad]");
        const DNI=document.querySelector("input[name=dni]");
        const EMAIL=document.querySelector("input[name=email]");




        // mostramos un error si no ha recibido el nombre

        if (!nombre.value) {

            nombre.classList.add("error");

            return;

        }

        nombre.classList.remove("error");



        // mostramos un error si no ha recibido una edad

        if (isNaN(parseInt(edad.value)) || parseInt(edad.value)<=0) {

            edad.classList.add("error");

            return;

        }

        edad.classList.remove("error");



        agregarFila(nombre.value, edad.value);

        agregarInput(nombre.value, edad.value);



        //limpiamos los valores del input

        edad.value="";

        nombre.value="";

        nombre.focus();



        });

    </script> -->  
    
</body>
</html>
